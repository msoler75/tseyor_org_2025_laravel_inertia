<template>
    <Page>
        <div class="w-full max-w-xl mx-auto bg-base-100 p-[5vw] shadow">
            <div v-if="desuscrito">
                <h1>춰Desuscripci칩n confirmada!</h1>
                <p>游녨 Ya no recibir치s m치s boletines.</p>
            </div>
            <div v-else>
                <h1>Bolet칤n Tseyor</h1>
                <p class="font-bold">쮼st치s seguro/a de que deseas desuscribirte?</p>
                <button @click="confirmarDesuscripcion" class="btn btn-primary mt-5">Confirmar</button>
            </div>
        </div>
    </Page>
</template>

<script setup>
const desuscrito = ref(false);

onMounted(() => {
    // Si la p치gina se recarga, asumimos que ya est치 desuscrito
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get("confirmado") === "true") {
        desuscrito.value = true;
    }
});

function confirmarDesuscripcion() {
    // Simula la confirmaci칩n de desuscripci칩n
    desuscrito.value = true;
    // Cambia la URL para reflejar el estado confirmado
    const updatedUrl = `${window.location.pathname}?confirmado=true`;
    window.history.pushState({ path: updatedUrl }, "", updatedUrl);
}
</script>

<style scoped>
/* Agrega estilos espec칤ficos para la vista aqu칤 */
</style>
